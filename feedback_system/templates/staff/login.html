{% extends 'base_layout.html' %}
{% load i18n %}
{% load bootstrap3 %}

{% block title %}
  {% trans "Staff Login" %}
{% endblock %}

{% block content %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark d-flex justify-content-between">
  <span class="navbar-brand h2 mb-0">{% trans "Lecture Feedback System" %} <small>{% if user.is_authenticated %}{{user.get_full_name}} ({{user.email}}){% endif %}</small></span>
  {% if user.is_authenticated %}
  <div>
    <ul class="navbar-nav mr-auto d-flex flex-row">
      <li class="nav-item">
        <a class="nav-link border-right border-white p-3" href="{% url 'staff:index' %}" role="button">Lecture History</a>
      </li>
      <li class="nav-item">
        <a class="nav-link border-left border-white p-3" href="{% url 'staff:logout' %}" role="button">Logout</a>
      </li>
    </ul>
  </div>
  {% endif %}
</nav>

<div class="container-fluid p-3"">
  <div class="row">
    <div class="col">
    </div>
    <div class="col-6">
      <form action="{% url 'staff:login' %}" method="post" class="form border rounded m-4 p-2 bg-light">
        {% csrf_token %}
        {% bootstrap_form form %}
        {% buttons %}
          <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Login here if you are a member of staff wishing to start a new feedback session or review a previous one :-)">
            {% bootstrap_icon "star" %} {% trans "Login" %}
          </button>
        {% endbuttons %}
      </form>
    </div>
    <div class="col">
    </div>
  </div>
  {% if user.is_authenticated %}
  <div class="row">
    <div class="col">
    </div>
    <div class="col-6">
      <div class="alert alert-primary text-center" role="alert">{% trans "You are already Logged In" %}</div>
    </div>
    <div class="col">
    </div>
  </div>
  {% endif %}
  {% if login_error %}
  <div class="row">
    <div class="col">
    </div>
    <div class="col-6">
      <div class="alert alert-danger text-center" role="alert">{% trans "Invalid Staff Login Details" %}</div>
    </div>
    <div class="col">
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}
