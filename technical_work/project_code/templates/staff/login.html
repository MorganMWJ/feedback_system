{% extends 'base_layout.html' %}
{% load i18n %}
{% load bootstrap3 %}

{% block title %}{% trans "Staff Login" %}{% endblock %}

{% block nav_options %}
  {% if user.is_authenticated %}
  <div class="shift-nav">
    <ul class="navbar-nav mr-auto d-flex flex-row">
      <li class="nav-item">
        <a class="nav-link p-3" href="{% url 'staff:lecture_list' %}" role="button">{% trans "Lecture History" %}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link p-3" href="{% url 'staff:logout' %}" role="button">{% trans "Logout" %}</a>
      </li>
    </ul>
  </div>
  {% endif %}
{% endblock %}

{% block content %}
<div class="container-fluid p-3"">
  <div class="row d-flex justify-content-center">
    <div class="col-sm-6">
      <form action="{% url 'staff:login' %}" method="post" class="form border rounded m-4 p-2 bg-light">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.GET.next }}" />
        {% bootstrap_form form %}
        {% buttons %}
          <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Login here if you are a member of staff wishing to start a new feedback session or review a previous one :-)">
            {% trans "Login" %}
          </button>
        {% endbuttons %}
      </form>
    </div>
  </div>
  {% if user.is_authenticated %}
    <div class="row d-flex justify-content-center">
      <div class="col-sm-6">
        <div class="alert alert-primary text-center" role="alert">{% trans "You are already Logged In" %}</div>
      </div>
    </div>
  {% endif %}
  {% for message in messages %}
    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
      <div class="row d-flex justify-content-center">
        <div class="col-sm-6">
          <div class="alert alert-danger text-center" role="alert">{{ message }}</div>
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>
{% endblock %}
